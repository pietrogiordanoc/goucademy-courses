<!-- CTA: curso gratis (inline, sin popup) -->
<div id="cta-regalo" style="margin-top:14px;">
  <button id="btnRegalo" class="btn primary"
          style="padding:14px 18px;border-radius:14px;font-size:15px">
    🎁 Quiero un curso gratis de regalo
  </button>

  <!-- Panel con el formulario (oculto inicialmente) -->
  <div id="panelRegalo"
       style="max-width:900px;margin:14px 0 0;overflow:hidden;
              border:1px solid #1f2937;border-radius:14px;background:#0c1327;
              transition:max-height .35s ease, opacity .25s ease;
              max-height:0; opacity:0;">
    <iframe
      src="https://form.123formbuilder.com/6876592/goucademy-lead-capture"
      title="Formulario GOUACADEMY"
      width="100%" height="900"
      style="border:0;display:block;border-radius:14px"
      loading="lazy" referrerpolicy="no-referrer-when-downgrade"
      allow="clipboard-write *"></iframe>

    <!-- Enlace de respaldo si el iframe no carga -->
    <div style="text-align:center;padding:10px 12px 16px">
      <a class="btn" href="https://form.123formbuilder.com/6876592/goucademy-lead-capture"
         target="_blank" rel="noopener"
         style="display:inline-flex;padding:10px 14px;border-radius:10px">
        Abrir formulario en una pestaña nueva
      </a>
    </div>
  </div>
</div>

<script>
  // Toggle suave del formulario dentro de la página
  (function () {
    const btn = document.getElementById('btnRegalo');
    const panel = document.getElementById('panelRegalo');
    let open = false;

    function setOpen(state) {
      open = state;
      if (open) {
        panel.style.maxHeight = panel.scrollHeight + 'px';
        panel.style.opacity = '1';
        btn.textContent = '✅ Ocultar formulario';
      } else {
        panel.style.maxHeight = '0';
        panel.style.opacity = '0';
        btn.textContent = '🎁 Quiero un curso gratis de regalo';
      }
    }
    btn.addEventListener('click', () => setOpen(!open));
  })();
</script>
